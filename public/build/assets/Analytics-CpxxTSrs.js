import{c as s,o as a,a as e,F as y,r as g,t as p,b as w,d as c,e as k,n as $,f as m}from"./app-Cfeasr-S.js";/* empty css            */const C={class:"w-full h-48 flex items-center justify-center bg-gray-50 rounded"},E={__name:"LineChart",props:{data:{type:Array,default:()=>[]}},setup(o){return(d,r)=>(a(),s("div",C,[...r[0]||(r[0]=[e("span",{class:"text-gray-500 text-sm"},"LineChart placeholder",-1)])]))}},A={class:"w-full h-48 flex items-center justify-center bg-gray-50 rounded"},B={__name:"BarChart",props:{data:{type:Array,default:()=>[]}},setup(o){return(d,r)=>(a(),s("div",A,[...r[0]||(r[0]=[e("span",{class:"text-gray-500 text-sm"},"BarChart placeholder",-1)])]))}},R={class:"w-full h-48 flex items-center justify-center bg-gray-50 rounded"},T={__name:"PieChart",props:{data:{type:Array,default:()=>[]}},setup(o){return(d,r)=>(a(),s("div",R,[...r[0]||(r[0]=[e("span",{class:"text-gray-500 text-sm"},"PieChart placeholder",-1)])]))}},D={class:"overflow-x-auto"},V={class:"min-w-full divide-y divide-gray-200"},q={class:"bg-gray-50"},N={class:"bg-white divide-y divide-gray-200"},j={key:0},L=["colspan"],v={__name:"Table",props:{columns:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]}},setup(o){return(d,r)=>(a(),s("div",D,[e("table",V,[e("thead",q,[e("tr",null,[(a(!0),s(y,null,g(o.columns,n=>(a(),s("th",{key:n.key,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},p(n.label),1))),128))])]),e("tbody",N,[(a(!0),s(y,null,g(o.rows,(n,_)=>(a(),s("tr",{key:_},[(a(!0),s(y,null,g(o.columns,u=>(a(),s("td",{key:u.key,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},p(n[u.key]),1))),128))]))),128)),!o.rows||!o.rows.length?(a(),s("tr",j,[e("td",{colspan:o.columns.length,class:"px-6 py-4 text-sm text-gray-500"},"No data.",8,L)])):w("",!0)])])]))}},F={class:"p-6"},P={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},S={class:"bg-white rounded-lg shadow p-6"},z={class:"mt-4 space-y-4"},I={class:"ml-3 text-sm font-medium text-gray-900"},M={class:"bg-white rounded-lg shadow p-6"},G={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},H={class:"bg-white rounded-lg shadow p-6"},J={class:"bg-white rounded-lg shadow p-6"},K={class:"bg-white rounded-lg shadow p-6"},O={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Q={class:"bg-white rounded-lg shadow p-6"},X={__name:"Analytics",setup(o){const d=c([]),r=c([]),n=c([]),_=c([]),u=c([]),h=c([]),f=[{key:"endpoint",label:"Endpoint"},{key:"count",label:"Requests"},{key:"avg_time",label:"Avg Time (ms)"},{key:"error_rate",label:"Error Rate"}],b=[{key:"type",label:"Event"},{key:"timestamp",label:"Time"},{key:"details",label:"Details"}],x=async()=>{try{const l=await axios.get("/api/v1/circuit-breakers");h.value=l.data}catch(l){console.error("Error fetching circuit breakers:",l)}};return k(async()=>{const l=await axios.get("/api/analytics");d.value=l.data.request_volume,r.value=l.data.response_times,n.value=l.data.error_rates,_.value=l.data.top_endpoints,u.value=l.data.recent_events,x(),setInterval(x,1e4)}),(l,t)=>(a(),s("div",F,[t[6]||(t[6]=e("h1",{class:"text-2xl font-bold mb-6"},"System Analytics",-1)),e("div",P,[e("div",S,[t[0]||(t[0]=e("h2",{class:"text-xl font-semibold mb-4"},"Circuit Breakers",-1)),e("div",z,[(a(!0),s(y,null,g(h.value,i=>(a(),s("div",{key:i.service,class:"flex items-center"},[e("span",{class:$(["flex-shrink-0 h-4 w-4 rounded-full",{"bg-green-500":i.state==="closed","bg-red-500":i.state==="open"}])},null,2),e("span",I,p(i.service)+" ("+p(i.state)+", failures: "+p(i.failure_count)+") ",1)]))),128))])]),e("div",M,[t[1]||(t[1]=e("h2",{class:"text-xl font-semibold mb-4"},"Request Volume",-1)),m(E,{data:d.value},null,8,["data"])])]),e("div",G,[e("div",H,[t[2]||(t[2]=e("h2",{class:"text-xl font-semibold mb-4"},"Response Times",-1)),m(B,{data:r.value},null,8,["data"])]),e("div",J,[t[3]||(t[3]=e("h2",{class:"text-xl font-semibold mb-4"},"Error Rate",-1)),m(T,{data:n.value},null,8,["data"])]),e("div",K,[t[4]||(t[4]=e("h2",{class:"text-xl font-semibold mb-4"},"Top Endpoints",-1)),m(v,{columns:f,rows:_.value},null,8,["rows"])])]),e("div",O,[e("div",Q,[t[5]||(t[5]=e("h2",{class:"text-xl font-semibold mb-4"},"Recent Events",-1)),m(v,{columns:b,rows:u.value},null,8,["rows"])])])]))}};export{X as default};
