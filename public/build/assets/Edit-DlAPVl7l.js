import{y as V,d as q,p as k,o as l,j as a,a as r,f as d,k as n,t as u,w,g as p,c as m,b as f,n as b,F as U,r as R,z as y,i as g,q as h}from"./app-euG18NoH.js";import{_ as P}from"./AppLayout.vue_vue_type_script_setup_true_lang-Dd9PRnpj.js";import{_ as T,a as v}from"./Button-BghtEaoW.js";import{_ as c}from"./Input-C8HeuFM8.js";/* empty css            */const E={class:"px-4 py-6 sm:px-0"},C={class:"mb-8"},M={class:"mt-2 text-sm text-gray-600"},S={class:"font-semibold font-mono"},$=["value"],j={key:0,class:"mt-2 text-sm text-danger"},B={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},D={key:0,class:"mt-2 text-sm text-danger"},L={class:"space-y-4"},N={class:"flex items-start space-x-3 p-4 bg-green-50 rounded-lg border border-green-200"},O={class:"flex items-center h-5"},A={class:"flex items-start space-x-3 p-4 bg-blue-50 rounded-lg border border-blue-200"},F={class:"flex items-center h-5"},z={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200"},W={__name:"Edit",props:{redirect:{type:Object,required:!0},domains:{type:Array,required:!0},errors:{type:Object,default:()=>({})}},setup(i){const s=i,o=V({domain_id:s.redirect.domain_id,source_pattern:s.redirect.source_pattern,target_url:s.redirect.target_url,redirect_type:s.redirect.redirect_type||301,priority:s.redirect.priority||100,description:s.redirect.description||"",is_active:s.redirect.is_active,preserve_query:s.redirect.preserve_query}),x=q(!1),_=()=>{x.value=!0,h.put(`/redirects/${s.redirect.id}`,o,{onFinish:()=>x.value=!1})};return(H,e)=>(l(),k(P,null,{default:a(()=>[r("div",E,[r("div",C,[e[10]||(e[10]=r("h1",{class:"text-3xl font-bold text-gray-900"},"Edit Redirect",-1)),r("p",M,[e[8]||(e[8]=n("Update redirect rule configuration for ",-1)),r("span",S,u(i.redirect.source_pattern),1),e[9]||(e[9]=n(".",-1))])]),d(T,{class:"max-w-2xl"},{default:a(()=>[r("form",{onSubmit:w(_,["prevent"]),class:"space-y-6"},[r("div",null,[e[12]||(e[12]=r("label",{for:"domain_id",class:"block text-sm font-medium text-text mb-2"},"Domínio",-1)),p(r("select",{id:"domain_id","onUpdate:modelValue":e[0]||(e[0]=t=>o.domain_id=t),required:"",class:b(["w-full px-3 py-2 bg-elevated border border-border rounded-lg text-text focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent",{"border-danger":i.errors.domain_id}])},[e[11]||(e[11]=r("option",{value:""},"Selecione um domínio",-1)),(l(!0),m(U,null,R(i.domains,t=>(l(),m("option",{key:t.id,value:t.id},u(t.name),9,$))),128))],2),[[y,o.domain_id]]),i.errors.domain_id?(l(),m("p",j,u(i.errors.domain_id),1)):f("",!0),e[13]||(e[13]=r("p",{class:"mt-1 text-sm text-text-muted"},"Escolha o domínio ao qual este redirect se aplica",-1))]),d(c,{id:"source_pattern",modelValue:o.source_pattern,"onUpdate:modelValue":e[1]||(e[1]=t=>o.source_pattern=t),label:"Source Pattern",type:"text",placeholder:"/old-path/*",required:"",error:i.errors.source_pattern,help:"URL pattern to match for redirection (supports wildcards like /old/*, /users/{id})"},null,8,["modelValue","error"]),d(c,{id:"target_url",modelValue:o.target_url,"onUpdate:modelValue":e[2]||(e[2]=t=>o.target_url=t),label:"Target URL",type:"url",placeholder:"https://example.com/new-path",required:"",error:i.errors.target_url,help:"The destination URL to redirect to (must include protocol)"},null,8,["modelValue","error"]),r("div",B,[r("div",null,[e[15]||(e[15]=r("label",{for:"redirect_type",class:"block text-sm font-medium text-text mb-2"},"Tipo de Redirect",-1)),p(r("select",{id:"redirect_type","onUpdate:modelValue":e[3]||(e[3]=t=>o.redirect_type=t),required:"",class:b(["w-full px-3 py-2 bg-elevated border border-border rounded-lg text-text focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent",{"border-danger":i.errors.redirect_type}])},[...e[14]||(e[14]=[r("option",{value:"301"},"301 - Redirecionamento Permanente",-1),r("option",{value:"302"},"302 - Redirecionamento Temporário",-1),r("option",{value:"303"},"303 - Ver Outro",-1),r("option",{value:"307"},"307 - Redirecionamento Temporário (Preserva Método)",-1),r("option",{value:"308"},"308 - Redirecionamento Permanente (Preserva Método)",-1)])],2),[[y,o.redirect_type]]),i.errors.redirect_type?(l(),m("p",D,u(i.errors.redirect_type),1)):f("",!0),e[16]||(e[16]=r("p",{class:"mt-1 text-sm text-text-muted"},"Escolha o código de status HTTP apropriado",-1))]),d(c,{id:"priority",modelValue:o.priority,"onUpdate:modelValue":e[4]||(e[4]=t=>o.priority=t),label:"Priority",type:"number",min:"1",max:"1000",error:i.errors.priority,help:"Higher numbers = higher priority (1-1000)"},null,8,["modelValue","error"])]),d(c,{id:"description",modelValue:o.description,"onUpdate:modelValue":e[5]||(e[5]=t=>o.description=t),label:"Description",type:"textarea",placeholder:"Optional description for this redirect",error:i.errors.description,help:"Add a description to help identify this redirect's purpose",rows:3},null,8,["modelValue","error"]),r("div",L,[r("div",N,[r("div",O,[p(r("input",{id:"is_active","onUpdate:modelValue":e[6]||(e[6]=t=>o.is_active=t),type:"checkbox",class:"focus:ring-green-500 h-4 w-4 text-green-600 border-gray-300 rounded transition-colors duration-200"},null,512),[[g,o.is_active]])]),e[17]||(e[17]=r("div",{class:"text-sm"},[r("label",{for:"is_active",class:"font-medium text-green-900"},"Active"),r("p",{class:"text-green-700"},"Enable this redirect in the proxy configuration")],-1))]),r("div",A,[r("div",F,[p(r("input",{id:"preserve_query","onUpdate:modelValue":e[7]||(e[7]=t=>o.preserve_query=t),type:"checkbox",class:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded transition-colors duration-200"},null,512),[[g,o.preserve_query]])]),e[18]||(e[18]=r("div",{class:"text-sm"},[r("label",{for:"preserve_query",class:"font-medium text-blue-900"},"Preserve Query Parameters"),r("p",{class:"text-blue-700"},"Keep query string parameters when redirecting")],-1))])]),r("div",z,[d(v,{href:"/redirects",variant:"outline"},{default:a(()=>[...e[19]||(e[19]=[n(" Cancel ",-1)])]),_:1}),d(v,{type:"submit",loading:x.value,variant:"primary"},{default:a(()=>[...e[20]||(e[20]=[n(" Update Redirect ",-1)])]),_:1},8,["loading"])])],32)]),_:1})])]),_:1}))}};export{W as default};
