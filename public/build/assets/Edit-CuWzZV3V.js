import{y as v,d as k,p as V,o as c,j as l,a as o,f as a,k as m,t as S,w as D,g as i,i as d,c as x,b as f,z as w,h as T,q as p}from"./app-euG18NoH.js";import{_ as U}from"./AppLayout.vue_vue_type_script_setup_true_lang-Dd9PRnpj.js";import{_ as A,a as _}from"./Card.vue_vue_type_script_setup_true_lang-DyaH9hgk.js";import{_ as g}from"./Input-C8HeuFM8.js";/* empty css            */const E={class:"px-4 py-6 sm:px-0"},B={class:"mb-8"},C={class:"mt-2 text-sm text-gray-600"},q={class:"font-semibold"},L={class:"space-y-4"},P={class:"flex items-start space-x-3 p-4 bg-green-50 rounded-lg border border-green-200"},W={class:"flex items-center h-5"},$={class:"flex items-start space-x-3 p-4 bg-blue-50 rounded-lg border border-blue-200"},j={class:"flex items-center h-5"},I={class:"space-y-4"},N={class:"flex items-start space-x-3 p-4 bg-orange-50 rounded-lg border border-orange-200"},R={class:"flex items-center h-5"},h={class:"flex items-start space-x-3 p-4 bg-red-50 rounded-lg border border-red-200"},z={class:"flex items-center h-5"},H={key:0,class:"ml-7 p-4 bg-gray-50 rounded-lg border border-gray-200"},M={class:"space-y-4"},O={class:"flex items-start space-x-3 p-4 bg-purple-50 rounded-lg border border-purple-200"},F={class:"flex items-center h-5"},G={key:0,class:"ml-7 p-4 bg-gray-50 rounded-lg border border-gray-200"},J={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200"},ee={__name:"Edit",props:{domain:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},setup(n){const r=n,t=v({name:r.domain.name,description:r.domain.description||"",auto_ssl:r.domain.auto_ssl,is_active:r.domain.is_active,force_https:r.domain.force_https??!0,block_external_access:r.domain.block_external_access??!1,internal_bind_ip:r.domain.internal_bind_ip||"127.0.0.1",www_redirect:r.domain.www_redirect??!1,www_redirect_type:r.domain.www_redirect_type||"www_to_non_www"}),u=k(!1),y=()=>{u.value=!0,p.put(`/domains/${r.domain.id}`,t,{onSuccess:()=>{p.visit("/domains")},onError:b=>{console.error("Erro ao atualizar domínio:",b)},onFinish:()=>{u.value=!1}})};return(b,e)=>(c(),V(U,null,{default:l(()=>[o("div",E,[o("div",B,[e[12]||(e[12]=o("h1",{class:"text-3xl font-bold text-gray-900"},"Editar Domínio",-1)),o("p",C,[e[10]||(e[10]=m("Atualizar configuração do domínio e configurações SSL para ",-1)),o("span",q,S(n.domain.name),1),e[11]||(e[11]=m(".",-1))])]),a(A,{class:"max-w-2xl"},{default:l(()=>[o("form",{onSubmit:D(y,["prevent"]),class:"space-y-6"},[a(g,{id:"name",modelValue:t.name,"onUpdate:modelValue":e[0]||(e[0]=s=>t.name=s),label:"Nome do Domínio",type:"text",placeholder:"exemplo.com",required:"",error:n.errors.name,help:"Digite um nome de domínio válido (ex: exemplo.com, api.exemplo.com)"},null,8,["modelValue","error"]),a(g,{id:"description",modelValue:t.description,"onUpdate:modelValue":e[1]||(e[1]=s=>t.description=s),label:"Descrição",type:"textarea",placeholder:"Descrição opcional para este domínio",error:n.errors.description,help:"Adicione uma descrição para ajudar a identificar o propósito deste domínio",rows:3},null,8,["modelValue","error"]),o("div",L,[e[15]||(e[15]=o("h3",{class:"text-lg font-medium text-gray-900"},"Configurações Básicas",-1)),o("div",P,[o("div",W,[i(o("input",{id:"is_active","onUpdate:modelValue":e[2]||(e[2]=s=>t.is_active=s),type:"checkbox",class:"focus:ring-green-500 h-4 w-4 text-green-600 border-gray-300 rounded transition-colors duration-200"},null,512),[[d,t.is_active]])]),e[13]||(e[13]=o("div",{class:"text-sm"},[o("label",{for:"is_active",class:"font-medium text-green-900"},"Domínio Ativo"),o("p",{class:"text-green-700"},"Habilitar este domínio na configuração do proxy")],-1))]),o("div",$,[o("div",j,[i(o("input",{id:"auto_ssl","onUpdate:modelValue":e[3]||(e[3]=s=>t.auto_ssl=s),type:"checkbox",class:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded transition-colors duration-200"},null,512),[[d,t.auto_ssl]])]),e[14]||(e[14]=o("div",{class:"text-sm"},[o("label",{for:"auto_ssl",class:"font-medium text-blue-900"},"SSL Automático (Let's Encrypt)"),o("p",{class:"text-blue-700"},"Obter e renovar automaticamente certificados SSL via Let's Encrypt")],-1))])]),o("div",I,[e[21]||(e[21]=o("h3",{class:"text-lg font-medium text-gray-900"},"Configurações de Segurança",-1)),o("div",N,[o("div",R,[i(o("input",{id:"force_https","onUpdate:modelValue":e[4]||(e[4]=s=>t.force_https=s),type:"checkbox",class:"focus:ring-orange-500 h-4 w-4 text-orange-600 border-gray-300 rounded transition-colors duration-200"},null,512),[[d,t.force_https]])]),e[16]||(e[16]=o("div",{class:"text-sm"},[o("label",{for:"force_https",class:"font-medium text-orange-900"},"Forçar HTTPS"),o("p",{class:"text-orange-700"},"Redirecionar automaticamente HTTP → HTTPS (recomendado)")],-1))]),o("div",h,[o("div",z,[i(o("input",{id:"block_external_access","onUpdate:modelValue":e[5]||(e[5]=s=>t.block_external_access=s),type:"checkbox",class:"focus:ring-red-500 h-4 w-4 text-red-600 border-gray-300 rounded transition-colors duration-200"},null,512),[[d,t.block_external_access]])]),e[17]||(e[17]=o("div",{class:"text-sm"},[o("label",{for:"block_external_access",class:"font-medium text-red-900"},"Bloquear Acesso Externo"),o("p",{class:"text-red-700"},"Impedir acesso direto às portas da aplicação (ex: localhost:8484)")],-1))]),t.block_external_access?(c(),x("div",H,[e[19]||(e[19]=o("label",{for:"internal_bind_ip",class:"block text-sm font-medium text-gray-700 mb-2"}," IP de Bind Interno ",-1)),i(o("select",{id:"internal_bind_ip","onUpdate:modelValue":e[6]||(e[6]=s=>t.internal_bind_ip=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"},[...e[18]||(e[18]=[o("option",{value:"127.0.0.1"},"127.0.0.1 (Localhost apenas)",-1),o("option",{value:"0.0.0.0"},"0.0.0.0 (Todos os IPs)",-1)])],512),[[w,t.internal_bind_ip]]),e[20]||(e[20]=o("p",{class:"mt-1 text-xs text-gray-500"}," 127.0.0.1 = Acesso apenas local | 0.0.0.0 = Acesso de qualquer IP ",-1))])):f("",!0)]),o("div",M,[e[25]||(e[25]=o("h3",{class:"text-lg font-medium text-gray-900"},"Redirecionamento WWW",-1)),o("div",O,[o("div",F,[i(o("input",{id:"www_redirect","onUpdate:modelValue":e[7]||(e[7]=s=>t.www_redirect=s),type:"checkbox",class:"focus:ring-purple-500 h-4 w-4 text-purple-600 border-gray-300 rounded transition-colors duration-200"},null,512),[[d,t.www_redirect]])]),e[22]||(e[22]=o("div",{class:"text-sm"},[o("label",{for:"www_redirect",class:"font-medium text-purple-900"},"Redirecionamento WWW"),o("p",{class:"text-purple-700"},"Redirecionar entre www.dominio.com e dominio.com")],-1))]),t.www_redirect?(c(),x("div",G,[e[24]||(e[24]=o("label",{for:"www_redirect_type",class:"block text-sm font-medium text-gray-700 mb-2"}," Tipo de Redirecionamento ",-1)),i(o("select",{id:"www_redirect_type","onUpdate:modelValue":e[8]||(e[8]=s=>t.www_redirect_type=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"},[...e[23]||(e[23]=[o("option",{value:"www_to_non_www"},"www.dominio.com → dominio.com",-1),o("option",{value:"non_www_to_www"},"dominio.com → www.dominio.com",-1)])],512),[[w,t.www_redirect_type]])])):f("",!0)]),o("div",J,[a(_,{onClick:e[9]||(e[9]=s=>T(p).visit("/domains")),variant:"outline"},{default:l(()=>[...e[26]||(e[26]=[m(" Cancelar ",-1)])]),_:1}),a(_,{type:"submit",loading:u.value,variant:"default"},{default:l(()=>[...e[27]||(e[27]=[m(" Atualizar Domínio ",-1)])]),_:1},8,["loading"])])],32)]),_:1})])]),_:1}))}};export{ee as default};
