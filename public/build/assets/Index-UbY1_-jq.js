import{p,o as i,j as a,f as r,a as t,h as x,l as u,k as n,c as d,b as y,F as f,r as h,t as l,n as b,q as g}from"./app-euG18NoH.js";import{_ as k}from"./AppLayout.vue_vue_type_script_setup_true_lang-Dd9PRnpj.js";import{_ as w}from"./PageLayout.vue_vue_type_script_setup_true_lang-BW3yTfll.js";import{a as m,_ as C}from"./Card.vue_vue_type_script_setup_true_lang-DyaH9hgk.js";import{_}from"./Badge.vue_vue_type_script_setup_true_lang-DE_4CD6e.js";/* empty css            */const j={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8"},L={key:0,class:"py-12 flex justify-center"},N={key:1,class:"overflow-x-auto"},$={class:"min-w-full divide-y divide-border"},B={class:"bg-surface divide-y divide-border"},S={class:"px-4 py-4 font-medium"},U={class:"px-4 py-4 text-text-muted"},A={class:"px-4 py-4 text-text-muted"},H={class:"px-4 py-4 text-text-muted"},M={class:"px-4 py-4"},T={class:"px-4 py-4"},V={class:"px-4 py-4 text-right space-x-2 whitespace-nowrap"},z={key:2,class:"px-6 py-4 border-t border-border"},D={class:"flex justify-center"},R={__name:"Index",props:{upstreams:Object},setup(o){const v=c=>{confirm("Are you sure you want to delete this upstream server?")&&g.delete(route("upstreams.destroy",c),{preserveScroll:!0,onSuccess:()=>{}})};return(c,s)=>(i(),p(k,{title:"Upstreams"},{default:a(()=>[r(w,null,{default:a(()=>[t("div",j,[s[1]||(s[1]=t("div",null,[t("h1",{class:"text-2xl font-bold text-text"},"Upstream Servers"),t("p",{class:"text-sm text-text-muted mt-1"},"Gerencie serviços backend e balanceamento")],-1)),r(x(u),{href:c.route("upstreams.create")},{default:a(()=>[r(m,{variant:"default"},{default:a(()=>[...s[0]||(s[0]=[n("Adicionar Upstream",-1)])]),_:1})]),_:1},8,["href"])]),r(C,null,{default:a(()=>[o.upstreams.data.length===0?(i(),d("div",L,[...s[2]||(s[2]=[t("div",{class:"flex flex-col items-center text-center"},[t("svg",{class:"h-12 w-12 text-text-muted mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l3-1 3 1-.75-3m-8.5-6l1.75 7.5a2 2 0 001.95 1.5h6.1a2 2 0 001.95-1.5L20.5 11m-15.25 0h15.5M12 4v7"})]),t("p",{class:"text-text font-medium mb-2"},"Nenhum upstream configurado"),t("p",{class:"text-text-muted max-w-md"},"Crie um upstream para conectar um serviço backend à sua regra de proxy.")],-1)])])):(i(),d("div",N,[t("table",$,[s[5]||(s[5]=t("thead",{class:"bg-elevated"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider"},"Nome"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider"},"Domínio"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider"},"Target URL"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider"},"Peso"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider"},"Health Check"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider"},"Status"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-text-muted uppercase tracking-wider"},"Ações")])],-1)),t("tbody",B,[(i(!0),d(f,null,h(o.upstreams.data,e=>(i(),d("tr",{key:e.id,class:"hover:bg-elevated"},[t("td",S,l(e.name),1),t("td",U,l(e.domain?.name||"—"),1),t("td",A,l(e.target_url),1),t("td",H,l(e.weight),1),t("td",M,[r(_,{variant:e.health_check_enabled?"success":"neutral"},{default:a(()=>[n(l(e.health_check_enabled?"Habilitado":"Desabilitado"),1)]),_:2},1032,["variant"])]),t("td",T,[r(_,{variant:e.is_active?"success":"danger"},{default:a(()=>[n(l(e.is_active?"Ativo":"Inativo"),1)]),_:2},1032,["variant"])]),t("td",V,[r(x(u),{href:c.route("upstreams.edit",e.id)},{default:a(()=>[r(m,{variant:"ghost",size:"sm"},{default:a(()=>[...s[3]||(s[3]=[n("Editar",-1)])]),_:1})]),_:2},1032,["href"]),r(m,{variant:"ghost",size:"sm",class:"text-danger",onClick:E=>v(e.id)},{default:a(()=>[...s[4]||(s[4]=[n("Excluir",-1)])]),_:2},1032,["onClick"])])]))),128))])])])),o.upstreams.links&&o.upstreams.links.length>3?(i(),d("div",z,[t("nav",D,[(i(!0),d(f,null,h(o.upstreams.links,e=>(i(),p(x(u),{key:e.label,href:e.url,innerHTML:e.label,class:b([{"bg-accent text-white":e.active,"bg-surface text-text":!e.active},"px-3 py-2 mx-1 border rounded hover:bg-elevated"]),disabled:!e.url},null,8,["href","innerHTML","class","disabled"]))),128))])])):y("",!0)]),_:1})]),_:1})]),_:1}))}};export{R as default};
